能使用多长时间

思路:
我们先讨论一个小规模的问题
- 如果是两个电池，那么只能用完那个寿命较短的
- 如果是三个电池，我们假设寿命分别为$a, b, c$（且$a < b < c$）考虑烙饼问题的方法，$b, c$先一起用$k$，然后$c-k$刚好可以与$a$和$b-k$一起用$\le c-k = a + b-k\le c \iff \frac{a+b-c}{2} > 0$即满足三角形三边关系即可
- 如果有更多的电池呢？如果是整数，那么很好的思路是取出最小分值的一半$0.5$，这样只需要维护一个堆，对堆顶的两个元素同时减去$0.5$，一直进行这样的操作，显然可以利用所有的能利用的电池寿命在这种情况下，什么时候用不完所有的电量呢？不难想到，如果有一个特别大，达到超过了其他所有之和，那么他和其他所有的搭配完依然会剩下$\omega = x_n - \Sigma_{i=1}^{n-1}x_i$，这里的$\omega$是无法使用的，则$T(max) = \frac{\Sigma_{i=1}^{n}x_i - \omega}{2} = \frac{1}{2}\{x_n + \Sigma_{i=1}^{n-1}x_i\}$
- 如果电池的寿命都是实数呢？之前的构造方案好像行不通了！但是我们还是可以想要把$n$个电池的问题化成$n-1$规模的问题 于是我们猜想如果一直用最大的电池减去最小的电池，每次操作之后都能继续满足我们设置的条件
  最大的电池容量小于其他之和，这样就一定能回到$n=3$的情况，问题解决
- 我们现在证明这个构造是正确的：假设$x_1, x_2, ..., x_n$是已经排好序的电池，且满足$x_n < \Sigma_{i=1}^{n-1}x_i$，那么现在同时使用$x_n$和$x_1$，$x_1$用尽后，$x_n$变成$x_n - x_1$，然后重新排序 1. $x_n - x_1$依然是最大的，那么现在电池寿命为$x_2, ..., x_{n-1}, x_n - x_1$，于是$x_n - x_1 < \Sigma_{i=2}^{n-1}x_i$则依然满足$x_{n-1} < \Sigma_{i=2}^{n-2}x_i$ case 2. $x_n - x_1$最大此时$n-1$个电池排序为$x_2, ..., x_{n-1}, x_n - x_1$，于是$x_n - x_1 < x_{n-1} + \Sigma_{i=2}^{n-2}x_i$，所有满足我们的前置条件的电池组都能化归到$n=3$的情况然后用完，而不满足的都用完（这个之前已经讨论过了）证毕


结果
Rank all the battery spans as $x_1, x_2, ..., x_n$. Then,

$$
T_{\text{max}} = 
\begin{cases} 
\frac{1}{2}x_n + \sum_{i=1}^{n-1}x_i & \text{if } x_n \leq \sum_{i=1}^{n-1}x_i \\
\frac{1}{2}\sum_{i=1}^{n}x_i & \text{if } x_n > \sum_{i=1}^{n-1}x_i 
\end{cases}
$$